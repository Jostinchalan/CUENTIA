{% extends "dashboard_base.html" %}
{% load static %}

{% block dashboard_css %}
<link rel="stylesheet" href="{% static 'css/biblioteca.css' %}">
{% endblock %}

{% block dashboard_content %}
<div class="biblioteca-header">
  <h1 class="biblioteca-title">Biblioteca</h1>
  <a href="{% url 'stories:generar' %}" class="btn btn-primary">Generar Nuevo Cuento</a>
</div>

<div class="biblioteca-tabs tabs">
  <div class="biblioteca-tab tab active" data-toggle="tab" data-target="all-tab">Todos</div>
  <div class="biblioteca-tab tab" data-toggle="tab" data-target="favorites-tab">Favoritos</div>
  <div class="biblioteca-tab tab" data-toggle="tab" data-target="recent-tab">Recientes</div>
</div>

<div class="biblioteca-filters">
  <div class="biblioteca-filter-group">
    <button class="btn btn-outline btn-sm">Ordenar por: Más recientes</button>
    <button class="btn btn-outline btn-sm">Filtrar</button>
  </div>
</div>

<!-- All stories tab -->
<div id="all-tab" class="tab-content active">
  <div class="biblioteca-grid">
    {% for i in "123456"|make_list %}
    <div class="card biblioteca-card">
      <div class="biblioteca-card-image">
        <img src="{% static 'images/story-placeholder-'|add:i|add:'.jpg' %}" alt="Cuento">
        <div class="biblioteca-card-badges">
          <span class="badge badge-purple">7-9 AÑOS</span>
          <span class="badge badge-purple">FANTASÍA</span>
        </div>
        <div class="biblioteca-card-actions">
          <button class="biblioteca-card-action">
            <i class="fas fa-play"></i>
          </button>
          <button class="biblioteca-card-action favorite-toggle {% if forloop.counter|divisibleby:3 %}active{% endif %}">
            <i class="{% if forloop.counter|divisibleby:3 %}fas{% else %}far{% endif %} fa-heart"></i>
          </button>
        </div>
      </div>
      <div class="biblioteca-card-content">
        <div class="biblioteca-card-header">
          <h3 class="biblioteca-card-title">Título del Cuento {{ forloop.counter }}</h3>
          <div class="biblioteca-card-menu">
            <button class="biblioteca-card-menu-button" data-toggle="dropdown" data-target="dropdown-{{ forloop.counter }}">
              <i class="fas fa-ellipsis-v"></i>
            </button>
            <div id="dropdown-{{ forloop.counter }}" class="dropdown-menu">
              <div class="dropdown-menu-item">
                <i class="fas fa-book-open dropdown-menu-item-icon"></i>
                <span>Leer</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-play dropdown-menu-item-icon"></i>
                <span>Escuchar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-download dropdown-menu-item-icon"></i>
                <span>Descargar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-share-alt dropdown-menu-item-icon"></i>
                <span>Compartir</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="{% if forloop.counter|divisibleby:3 %}fas{% else %}far{% endif %} fa-heart dropdown-menu-item-icon"></i>
                <span>{% if forloop.counter|divisibleby:3 %}Quitar de favoritos{% else %}Añadir a favoritos{% endif %}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="biblioteca-card-meta">
          <span>Para: Nombre del Niño</span>
          <span>{{ forloop.counter }}/4/2024</span>
        </div>
        <div class="biblioteca-card-buttons">
          <button class="biblioteca-card-button">
            <i class="fas fa-book-open biblioteca-card-button-icon"></i>
            Leer
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-play biblioteca-card-button-icon"></i>
            Escuchar
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-download biblioteca-card-button-icon"></i>
            Descargar
          </button>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Favorites tab -->
<div id="favorites-tab" class="tab-content">
  <div class="biblioteca-grid">
    {% for i in "135"|make_list %}
    <div class="card biblioteca-card">
      <div class="biblioteca-card-image">
        <img src="{% static 'images/story-placeholder-'|add:i|add:'.jpg' %}" alt="Cuento">
        <div class="biblioteca-card-badges">
          <span class="badge badge-purple">7-9 AÑOS</span>
          <span class="badge badge-purple">FANTASÍA</span>
        </div>
        <div class="biblioteca-card-actions">
          <button class="biblioteca-card-action">
            <i class="fas fa-play"></i>
          </button>
          <button class="biblioteca-card-action favorite-toggle active">
            <i class="fas fa-heart"></i>
          </button>
        </div>
      </div>
      <div class="biblioteca-card-content">
        <div class="biblioteca-card-header">
          <h3 class="biblioteca-card-title">Título del Cuento Favorito {{ forloop.counter }}</h3>
          <div class="biblioteca-card-menu">
            <button class="biblioteca-card-menu-button" data-toggle="dropdown" data-target="dropdown-fav-{{ forloop.counter }}">
              <i class="fas fa-ellipsis-v"></i>
            </button>
            <div id="dropdown-fav-{{ forloop.counter }}" class="dropdown-menu">
              <div class="dropdown-menu-item">
                <i class="fas fa-book-open dropdown-menu-item-icon"></i>
                <span>Leer</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-play dropdown-menu-item-icon"></i>
                <span>Escuchar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-download dropdown-menu-item-icon"></i>
                <span>Descargar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-share-alt dropdown-menu-item-icon"></i>
                <span>Compartir</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-heart dropdown-menu-item-icon"></i>
                <span>Quitar de favoritos</span>
              </div>
            </div>
          </div>
        </div>
        <div class="biblioteca-card-meta">
          <span>Para: Nombre del Niño</span>
          <span>{{ forloop.counter }}/4/2024</span>
        </div>
        <div class="biblioteca-card-buttons">
          <button class="biblioteca-card-button">
            <i class="fas fa-book-open biblioteca-card-button-icon"></i>
            Leer
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-play biblioteca-card-button-icon"></i>
            Escuchar
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-download biblioteca-card-button-icon"></i>
            Descargar
          </button>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Recent tab -->
<div id="recent-tab" class="tab-content">
  <div class="biblioteca-grid">
    {% for i in "123"|make_list %}
    <div class="card biblioteca-card">
      <div class="biblioteca-card-image">
        <img src="{% static 'images/story-placeholder-'|add:i|add:'.jpg' %}" alt="Cuento">
        <div class="biblioteca-card-badges">
          <span class="badge badge-purple">7-9 AÑOS</span>
          <span class="badge badge-purple">FANTASÍA</span>
        </div>
        <div class="biblioteca-card-actions">
          <button class="biblioteca-card-action">
            <i class="fas fa-play"></i>
          </button>
          <button class="biblioteca-card-action favorite-toggle {% if forloop.counter|divisibleby:3 %}active{% endif %}">
            <i class="{% if forloop.counter|divisibleby:3 %}fas{% else %}far{% endif %} fa-heart"></i>
          </button>
        </div>
      </div>
      <div class="biblioteca-card-content">
        <div class="biblioteca-card-header">
          <h3 class="biblioteca-card-title">Título del Cuento Reciente {{ forloop.counter }}</h3>
          <div class="biblioteca-card-menu">
            <button class="biblioteca-card-menu-button" data-toggle="dropdown" data-target="dropdown-recent-{{ forloop.counter }}">
              <i class="fas fa-ellipsis-v"></i>
            </button>
            <div id="dropdown-recent-{{ forloop.counter }}" class="dropdown-menu">
              <div class="dropdown-menu-item">
                <i class="fas fa-book-open dropdown-menu-item-icon"></i>
                <span>Leer</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-play dropdown-menu-item-icon"></i>
                <span>Escuchar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-download dropdown-menu-item-icon"></i>
                <span>Descargar</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="fas fa-share-alt dropdown-menu-item-icon"></i>
                <span>Compartir</span>
              </div>
              <div class="dropdown-menu-item">
                <i class="{% if forloop.counter|divisibleby:3 %}fas{% else %}far{% endif %} fa-heart dropdown-menu-item-icon"></i>
                <span>{% if forloop.counter|divisibleby:3 %}Quitar de favoritos{% else %}Añadir a favoritos{% endif %}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="biblioteca-card-meta">
          <span>Para: Nombre del Niño</span>
          <span>{{ forloop.counter }}/4/2024</span>
        </div>
        <div class="biblioteca-card-buttons">
          <button class="biblioteca-card-button">
            <i class="fas fa-book-open biblioteca-card-button-icon"></i>
            Leer
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-play biblioteca-card-button-icon"></i>
            Escuchar
          </button>
          <button class="biblioteca-card-button">
            <i class="fas fa-download biblioteca-card-button-icon"></i>
            Descargar
          </button>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}